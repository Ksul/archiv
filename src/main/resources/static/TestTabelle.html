<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Table Example</title>


    <script type="text/javascript" src="./js/jquery/jquery-1.12.1.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/ace.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/theme-chrome.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/theme-eclipse.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/mode-xml.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/mode-javascript.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/ace/mode-text.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/alfrescoClient.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dialoge.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/util.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/recognition.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/verteilung.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery-ui/jquery-ui.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.tmpl.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.layout.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.layout.resizeTabLayout-1.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.cookie.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.hotkeys.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jstree/jstree.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/dataTables.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/dataTables.paging_with_jqui_icons.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/moment/moment-with-locales.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/bootstrap/bootstrap-datetimepicker.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/bootstrap/typeahead.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/datetime-moment.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.jeditable.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/dataTables.rowShow.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/dataTables.select.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/dataTables/dataTables.editable.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.jeditable.datepicker.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.price-format.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.easing.1.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.jBreadCrumb.1.1.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.formatDateTime.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.format-1.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jquery/jquery.wysiwyg.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/superfish.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/hoverIntent.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/alpaca/handlebars.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/alpaca/alpaca.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/vkbeautify.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/jsbeautify.js" charset="utf-8"></script>
    <script type="text/javascript" src="./js/Base64.js" charset="utf-8"></script>


    <link type="text/css" href="./css/jquery-ui-custom.css" rel="stylesheet"/>
    <link type="text/css" href="./css/bootstrap-datetimepicker.css" rel="stylesheet"/>
    <link type="text/css" href="./css/dataTables.css" rel="stylesheet"/>
    <link type="text/css" href="./css/Base.css" rel="stylesheet"/>
    <link type="text/css" href="./css/BreadCrumb.css" rel="stylesheet"/>
    <link type="text/css" href="./css/select.jqueryui.css" rel="stylesheet"/>
    <link type="text/css" href="./css/superfish.css" rel="stylesheet"/>
    <link type="text/css" href="./css/superfish-navbar.css" rel="stylesheet"/>
    <link type="text/css" href="./css/superfish-vertical.css" rel="stylesheet"/>
    <link type="text/css" href="./css/jquery.wysiwyg.css" rel="stylesheet"/>
    <link type="text/css" href="./css/alpaca.css" rel="stylesheet"/>
    <link type="text/css" href="./css/style.css" rel="stylesheet"/>
    <link type="text/css" href="./css/ArchivLayout.css" rel="stylesheet"/>
    <link type="text/css" href="./css/simplegrid.css" rel="stylesheet"/>
    <link type="text/css" href="./css/font-awesome.css" rel="stylesheet"/>

    <script type="text/javascript" charset="utf-8">
        var tabelle;
        var obj;

 
        function length(){
            tabelle.page.len( 4 ).draw("page");
         }


    $(document).ready(function() {
        obj = executeService({"name": "getNodeId", "errorMessage": "Archiv konnte nicht gefunden werden:" }, [
            {"name": "filePath", "value": "/Archiv/Unbekannt"}
        ]);
        $('#dynamic').html( '<table cellpadding="0" cellspacing="0" border="0" class="display" id="example"></table>' );
        tabelle = $('#example').DataTable( {
            "pagingType": "paging_with_jqui_icons",
            "processing": true,
            "serverSide": true,
            "pageLength": 5,
            "order": [[3,'asc']],
            "displayStart":0,
            "ajax": {
                "url": "/Archiv/listFolderWithPagination",
                type: "POST",
                data: function (data) {
                    data.filePath = obj.data;
                    data.withFolder = 1;
                    data.itemsToSkip = 0;
                    return JSON.stringify(data);
                },
                dataType: "json",
                processData: false,
                contentType: 'application/json;charset=UTF-8'
            },
            "language": {
                "info": "Zeigt Eintr채ge _START_ bis _END_ von insgesamt _TOTAL_ \f",
                    "emptyTable": "",
                    "zeroRecords": "Keine Eintr채ge!",
                    "infoEmpty":    "",
                    "paginate": {
                "first": "Erste ",
                        "last":  "Letzte ",
                        "next":  "N채chste ",
                        "previous": "Vorherige "
            },
            "select": {
                "rows": {
                    "_": " %d Zeilen markiert",
                            "1": " 1 Zeile markiert",
                            "0": ""
                }
            }
        },
            "columns": [
                {
                    "class": 'alignCenter details-control awesomeEntity',
                    "orderable": false,
                    "data": null,
                    "defaultContent": '',
                    "width": "12px"
                },
                {
                    "data": "contentStreamMimeType",
                    "title": "Typ",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignCenter",
                    "width": "43px"
                },
                {
                    "data": null,
                    "title": "Vorschau",
                    "orderable": false,
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignCenter",
                    "width": "120px"
                },
                {
                    "data": "title",
                    "name": "cm:title",
                    "title": "Titel",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignLeft"
                },
                {
                    "data": "documentDateDisplay",
                    "title": "Datum",
                    "name": "my:documentDate",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignLeft"
                },
                {
                    "data": "person",
                    "title": "Person",
                    "name": "d.my:person",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignLeft"
                },
                {
                    "data": "amountDisplay",
                    "title": "Betrag",
                    "name": "my:amount",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignLeft"
                },
                {
                    "data": "idvalue",
                    "title": "Schl체ssel",
                    "name": "my:idvalue",
                    "defaultContent": '',
                    "type": "string",
                    "class": "alignLeft"
                },
                {
                    "data": null,
                    "title": "Aktion",
                    "width": "102px",
                    "class": "alignLeft"
                },
                {
                    "data": "objectID"
                }
            ],
            "columnDefs": [
                {
                    "targets": [5, 6],
                    "visible": true
                },

                {   "targets": [9],
                    "visible": false
                },
                {
                    "targets": [3],
                    "render": function (data, type, row) {
                        if (exist(data))
                            return data;
                        else if (exist(row.name))
                            return row.name;
                        else
                            return "";
                    },
                    "visible": true
                },
                {
                    "targets": [4],
                    "render": function (data, type, row) {
                        if (row.documentDate) {
                            row.documentDateDisplay = $.datepicker.formatDate("dd.mm.yy", new Date(Number(row.documentDate)));
                        }  else if (row.creationDate)
                            row.documentDateDisplay = $.datepicker.formatDate("dd.mm.yy", new Date(Number(row.creationDate)));
                        else
                            row.documentDateDisplay = "";
                        return row.documentDateDisplay;
                    },
                    "visible": true
                }
                ]

        });
        $.fn.dataTable.makeEditable( tabelle,  {
            sUpdateURL: function(value, settings)
            {
                alert(value);
            }
        } );




    } );
</script>
</head>
<body id="dt_example">

<div id="dynamic"></div>
<button onclick="change()">Push</button>
<button onclick="length()">Length</button>
</body>
</html>